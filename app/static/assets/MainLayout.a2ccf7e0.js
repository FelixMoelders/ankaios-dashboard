import{c as U,i as _e,e as Y,p as Fe,a as m,h as P,b as ye,l as xe,d as At,g as K,w as E,o as se,f as te,n as Qe,j as Ve,r as y,k as vt,m as he,q as we,s as Mt,t as ft,u as Vt,v as F,x as R,y as O,Q as ce,z as ue,A as Ne,B as fe,C as re,T as Dt,D as Se,E as k,F as Re,G as Ht,H as je,I as We,J as Ft,K as ve,L as Qt,M as $e,N as Ke,O as Oe,P as De,R as ze,S as Je,U as Nt,V as mt,W as ht,X as Ce,Y as Rt,Z as jt,_ as Wt,$ as ie,a0 as Ge,a1 as Ut,a2 as Xt,a3 as Yt,a4 as Kt}from"./index.94c7a7c2.js";import{g as gt,a as Jt,b as Gt,c as Le,u as Zt,d as yt,e as eo,v as Ze,f as to,h as bt,i as oo,j as pt,k as ao,l as lo,m as no,n as wt,o as io,r as et,s as ro,p as He,q as tt,t as uo,w as so,x as co,y as ee,z as ot,A as Be,Q as vo,B as at,C as fo,D as mo,E as Ee,F as Ie,G as ho}from"./QDialog.df6206d0.js";import{Q as St,a as go}from"./QCardActions.81ae513d.js";import{_ as Ue}from"./plugin-vue_export-helper.21dcd24c.js";import{u as zt,a as Ct}from"./use-dark.3d61816d.js";import{Q as yo}from"./QList.6c8dd792.js";var bo=U({name:"QPageContainer",setup(e,{slots:i}){const{proxy:{$q:l}}=K(),r=_e(xe,Y);if(r===Y)return console.error("QPageContainer needs to be child of QLayout"),Y;Fe(At,!0);const t=m(()=>{const a={};return r.header.space===!0&&(a.paddingTop=`${r.header.size}px`),r.right.space===!0&&(a[`padding${l.lang.rtl===!0?"Left":"Right"}`]=`${r.right.size}px`),r.footer.space===!0&&(a.paddingBottom=`${r.footer.size}px`),r.left.space===!0&&(a[`padding${l.lang.rtl===!0?"Right":"Left"}`]=`${r.left.size}px`),a});return()=>P("div",{class:"q-page-container",style:t.value},ye(i.default))}});const{passive:lt}=Ve,po=["both","horizontal","vertical"];var _t=U({name:"QScrollObserver",props:{axis:{type:String,validator:e=>po.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:i}){const l={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let r=null,t,a;E(()=>e.scrollTarget,()=>{v(),o()});function n(){r!==null&&r();const S=Math.max(0,Jt(t)),C=Gt(t),d={top:S-l.position.top,left:C-l.position.left};if(e.axis==="vertical"&&d.top===0||e.axis==="horizontal"&&d.left===0)return;const g=Math.abs(d.top)>=Math.abs(d.left)?d.top<0?"up":"down":d.left<0?"left":"right";l.position={top:S,left:C},l.directionChanged=l.direction!==g,l.delta=d,l.directionChanged===!0&&(l.direction=g,l.inflectionPoint=l.position),i("scroll",{...l})}function o(){t=gt(a,e.scrollTarget),t.addEventListener("scroll",c,lt),c(!0)}function v(){t!==void 0&&(t.removeEventListener("scroll",c,lt),t=void 0)}function c(S){if(S===!0||e.debounce===0||e.debounce==="0")n();else if(r===null){const[C,d]=e.debounce?[setTimeout(n,e.debounce),clearTimeout]:[requestAnimationFrame(n),cancelAnimationFrame];r=()=>{d(C),r=null}}}const{proxy:u}=K();return E(()=>u.$q.lang.rtl,n),se(()=>{a=u.$el.parentNode,o()}),te(()=>{r!==null&&r(),v()}),Object.assign(u,{trigger:c,getPosition:()=>l}),Qe}});function wo(){const e=y(!vt.value);return e.value===!1&&se(()=>{e.value=!0}),{isHydrated:e}}const xt=typeof ResizeObserver!="undefined",nt=xt===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var ge=U({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:i}){let l=null,r,t={width:-1,height:-1};function a(v){v===!0||e.debounce===0||e.debounce==="0"?n():l===null&&(l=setTimeout(n,e.debounce))}function n(){if(l!==null&&(clearTimeout(l),l=null),r){const{offsetWidth:v,offsetHeight:c}=r;(v!==t.width||c!==t.height)&&(t={width:v,height:c},i("resize",t))}}const{proxy:o}=K();if(o.trigger=a,xt===!0){let v;const c=u=>{r=o.$el.parentNode,r?(v=new ResizeObserver(a),v.observe(r),n()):u!==!0&&he(()=>{c(!0)})};return se(()=>{c()}),te(()=>{l!==null&&clearTimeout(l),v!==void 0&&(v.disconnect!==void 0?v.disconnect():r&&v.unobserve(r))}),Qe}else{let u=function(){l!==null&&(clearTimeout(l),l=null),c!==void 0&&(c.removeEventListener!==void 0&&c.removeEventListener("resize",a,Ve.passive),c=void 0)},S=function(){u(),r&&r.contentDocument&&(c=r.contentDocument.defaultView,c.addEventListener("resize",a,Ve.passive),n())};const{isHydrated:v}=wo();let c;return se(()=>{he(()=>{r=o.$el,r&&S()})}),te(u),()=>{if(v.value===!0)return P("object",{class:"q--avoid-card-border",style:nt.style,tabindex:-1,type:"text/html",data:nt.url,"aria-hidden":"true",onLoad:S})}}}}),So=U({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:i,emit:l}){const{proxy:{$q:r}}=K(),t=y(null),a=y(r.screen.height),n=y(e.container===!0?0:r.screen.width),o=y({position:0,direction:"down",inflectionPoint:0}),v=y(0),c=y(vt.value===!0?0:Le()),u=m(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),S=m(()=>e.container===!1?{minHeight:r.screen.height+"px"}:null),C=m(()=>c.value!==0?{[r.lang.rtl===!0?"left":"right"]:`${c.value}px`}:null),d=m(()=>c.value!==0?{[r.lang.rtl===!0?"right":"left"]:0,[r.lang.rtl===!0?"left":"right"]:`-${c.value}px`,width:`calc(100% + ${c.value}px)`}:null);function g(h){if(e.container===!0||document.qScrollPrevented!==!0){const p={position:h.position.top,direction:h.direction,directionChanged:h.directionChanged,inflectionPoint:h.inflectionPoint.top,delta:h.delta.top};o.value=p,e.onScroll!==void 0&&l("scroll",p)}}function L(h){const{height:p,width:I}=h;let B=!1;a.value!==p&&(B=!0,a.value=p,e.onScrollHeight!==void 0&&l("scrollHeight",p),_()),n.value!==I&&(B=!0,n.value=I),B===!0&&e.onResize!==void 0&&l("resize",h)}function $({height:h}){v.value!==h&&(v.value=h,_())}function _(){if(e.container===!0){const h=a.value>v.value?Le():0;c.value!==h&&(c.value=h)}}let b=null;const w={instances:{},view:m(()=>e.view),isContainer:m(()=>e.container),rootRef:t,height:a,containerHeight:v,scrollbarWidth:c,totalWidth:m(()=>n.value+c.value),rows:m(()=>{const h=e.view.toLowerCase().split(" ");return{top:h[0].split(""),middle:h[1].split(""),bottom:h[2].split("")}}),header:we({size:0,offset:0,space:!1}),right:we({size:300,offset:0,space:!1}),footer:we({size:0,offset:0,space:!1}),left:we({size:300,offset:0,space:!1}),scroll:o,animate(){b!==null?clearTimeout(b):document.body.classList.add("q-body--layout-animate"),b=setTimeout(()=>{b=null,document.body.classList.remove("q-body--layout-animate")},155)},update(h,p,I){w[h][p]=I}};if(Fe(xe,w),Le()>0){let I=function(){h=null,p.classList.remove("hide-scrollbar")},B=function(){if(h===null){if(p.scrollHeight>r.screen.height)return;p.classList.add("hide-scrollbar")}else clearTimeout(h);h=setTimeout(I,300)},V=function(M){h!==null&&M==="remove"&&(clearTimeout(h),I()),window[`${M}EventListener`]("resize",B)},h=null;const p=document.body;E(()=>e.container!==!0?"add":"remove",V),e.container!==!0&&V("add"),Mt(()=>{V("remove")})}return()=>{const h=ft(i.default,[P(_t,{onScroll:g}),P(ge,{onResize:L})]),p=P("div",{class:u.value,style:S.value,ref:e.container===!0?void 0:t,tabindex:-1},h);return e.container===!0?P("div",{class:"q-layout-container overflow-hidden",ref:t},[P(ge,{onResize:$}),P("div",{class:"absolute-full",style:C.value},[P("div",{class:"scroll",style:d.value},[p])])]):p}}}),zo=U({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:i}){const l=m(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>P("div",{class:l.value,role:"toolbar"},ye(i.default))}}),Co=U({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:i,emit:l}){const{proxy:{$q:r}}=K(),t=_e(xe,Y);if(t===Y)return console.error("QHeader needs to be child of QLayout"),Y;const a=y(parseInt(e.heightHint,10)),n=y(!0),o=m(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||r.platform.is.ios&&t.isContainer.value===!0),v=m(()=>{if(e.modelValue!==!0)return 0;if(o.value===!0)return n.value===!0?a.value:0;const b=a.value-t.scroll.value.position;return b>0?b:0}),c=m(()=>e.modelValue!==!0||o.value===!0&&n.value!==!0),u=m(()=>e.modelValue===!0&&c.value===!0&&e.reveal===!0),S=m(()=>"q-header q-layout__section--marginal "+(o.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(c.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),C=m(()=>{const b=t.rows.value.top,w={};return b[0]==="l"&&t.left.space===!0&&(w[r.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),b[2]==="r"&&t.right.space===!0&&(w[r.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),w});function d(b,w){t.update("header",b,w)}function g(b,w){b.value!==w&&(b.value=w)}function L({height:b}){g(a,b),d("size",b)}function $(b){u.value===!0&&g(n,!0),l("focusin",b)}E(()=>e.modelValue,b=>{d("space",b),g(n,!0),t.animate()}),E(v,b=>{d("offset",b)}),E(()=>e.reveal,b=>{b===!1&&g(n,e.modelValue)}),E(n,b=>{t.animate(),l("reveal",b)}),E(t.scroll,b=>{e.reveal===!0&&g(n,b.direction==="up"||b.position<=e.revealOffset||b.position-b.inflectionPoint<100)});const _={};return t.instances.header=_,e.modelValue===!0&&d("size",a.value),d("space",e.modelValue),d("offset",v.value),te(()=>{t.instances.header===_&&(t.instances.header=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const b=Vt(i.default,[]);return e.elevated===!0&&b.push(P("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),b.push(P(ge,{debounce:0,onResize:L})),P("header",{class:S.value,style:C.value,onFocusin:$},b)}}}),_o="/assets/ankaios_logo.94cc128b.png";const xo={},qo=Ne("img",{alt:"Ankaios logo",src:_o,style:{width:"120px"}},null,-1);function ko(e,i){return e.$q.screen.gt.xs?(F(),R(ce,{key:0,"no-caps":"","no-wrap":"",class:"q-ml-lg",href:"https://eclipse-ankaios.github.io/ankaios/latest/",rel:"noopener",target:"_blank"},{default:O(()=>[qo]),_:1})):ue("",!0)}var To=Ue(xo,[["render",ko]]),qt=U({name:"QTooltip",inheritAttrs:!1,props:{...Zt,...yt,...eo,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Ze},self:{type:String,default:"top middle",validator:Ze},offset:{type:Array,default:()=>[14,14],validator:to},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...bt],setup(e,{slots:i,emit:l,attrs:r}){let t,a;const n=K(),{proxy:{$q:o}}=n,v=y(null),c=y(!1),u=m(()=>tt(e.anchor,o.lang.rtl)),S=m(()=>tt(e.self,o.lang.rtl)),C=m(()=>e.persistent!==!0),{registerTick:d,removeTick:g}=oo(),{registerTimeout:L}=pt(),{transitionProps:$,transitionStyle:_}=ao(e),{localScrollTarget:b,changeScrollEvent:w,unconfigureScrollTarget:h}=lo(e,j),{anchorEl:p,canShow:I,anchorEvents:B}=no({showing:c,configureAnchorEl:x}),{show:V,hide:M}=wt({showing:c,canShow:I,handleShow:H,handleHide:ae,hideOnRouteChange:C,processOnMount:!0});Object.assign(B,{delayShow:f,delayHide:z});const{showPortal:T,hidePortal:A,renderPortal:oe}=io(n,v,de,"tooltip");if(o.platform.is.mobile===!0){const D={anchorEl:p,innerRef:v,onClickOutside(X){return M(X),X.target.classList.contains("q-dialog__backdrop")&&Se(X),!0}},ne=m(()=>e.modelValue===null&&e.persistent!==!0&&c.value===!0);E(ne,X=>{(X===!0?uo:et)(D)}),te(()=>{et(D)})}function H(D){T(),d(()=>{a=new MutationObserver(()=>Q()),a.observe(v.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),Q(),j()}),t===void 0&&(t=E(()=>o.screen.width+"|"+o.screen.height+"|"+e.self+"|"+e.anchor+"|"+o.lang.rtl,Q)),L(()=>{T(!0),l("show",D)},e.transitionDuration)}function ae(D){g(),A(),le(),L(()=>{A(!0),l("hide",D)},e.transitionDuration)}function le(){a!==void 0&&(a.disconnect(),a=void 0),t!==void 0&&(t(),t=void 0),h(),fe(B,"tooltipTemp")}function Q(){ro({targetEl:v.value,offset:e.offset,anchorEl:p.value,anchorOrigin:u.value,selfOrigin:S.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function f(D){if(o.platform.is.mobile===!0){He(),document.body.classList.add("non-selectable");const ne=p.value,X=["touchmove","touchcancel","touchend","click"].map(be=>[ne,be,"delayHide","passiveCapture"]);re(B,"tooltipTemp",X)}L(()=>{V(D)},e.delay)}function z(D){o.platform.is.mobile===!0&&(fe(B,"tooltipTemp"),He(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),L(()=>{M(D)},e.hideDelay)}function x(){if(e.noParentEvent===!0||p.value===null)return;const D=o.platform.is.mobile===!0?[[p.value,"touchstart","delayShow","passive"]]:[[p.value,"mouseenter","delayShow","passive"],[p.value,"mouseleave","delayHide","passive"]];re(B,"anchor",D)}function j(){if(p.value!==null||e.scrollTarget!==void 0){b.value=gt(p.value,e.scrollTarget);const D=e.noParentEvent===!0?Q:M;w(b.value,D)}}function J(){return c.value===!0?P("div",{...r,ref:v,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",r.class],style:[r.style,_.value],role:"tooltip"},ye(i.default)):null}function de(){return P(Dt,$.value,J)}return te(le),Object.assign(n.proxy,{updatePosition:Q}),oe}});const Po={};function $o(e,i){return F(),R(ce,{onClick:i[0]||(i[0]=l=>e.$emit("clickLoginBtn")),round:"",dense:"",flat:"",color:"white",icon:"login"},{default:O(()=>[k(qt,null,{default:O(()=>[Re("Login")]),_:1})]),_:1})}var Oo=Ue(Po,[["render",$o]]);function kt(){return _e(Ht)}const Lo={__name:"LogoutButton",setup(e){const i=kt();function l(){fetch("/logout").then(function(r){r.status==200&&i.notify({type:"positive",message:"Logout successful, see you soon!"})})}return(r,t)=>(F(),R(ce,{onClick:t[0]||(t[0]=a=>{r.$emit("clickLogoutBtn"),l()}),round:"",dense:"",flat:"",color:"white",icon:"logout"},{default:O(()=>[k(qt,null,{default:O(()=>[Re("Logout")]),_:1})]),_:1}))}},Bo={};function Eo(e,i){return F(),R(ce,{flat:"",dense:"",round:"",onClick:i[0]||(i[0]=l=>e.$emit("clickDrawerBtn")),"aria-label":"Menu",icon:"menu"})}var Io=Ue(Bo,[["render",Eo]]);const Ao={class:"q-gutter-sm row items-center no-wrap"},Mo={key:1,class:"text-white"},Vo={__name:"DashboardHeader",props:{loggedIn:Boolean,loggedInUser:String},setup(e){return(i,l)=>(F(),R(Co,{"q-header":"",elevated:"",class:"bg-secondary"},{default:O(()=>[k(zo,null,{default:O(()=>[k(Io,{onClickDrawerBtn:l[0]||(l[0]=r=>i.$emit("clickDrawerBtn"))}),k(To),k(St),Ne("div",Ao,[e.loggedIn?ue("",!0):(F(),R(Oo,{key:0,onClickLoginBtn:l[1]||(l[1]=r=>i.$emit("clickLoginBtn"))})),e.loggedIn?(F(),je("div",Mo,We(e.loggedInUser),1)):ue("",!0),e.loggedIn?(F(),R(Lo,{key:2,onClickLogoutBtn:l[2]||(l[2]=r=>i.$emit("clickLogoutBtn"))})):ue("",!0)])]),_:1})]),_:1}))}},Xe={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Do=Object.keys(Xe);Xe.all=!0;function it(e){const i={};for(const l of Do)e[l]===!0&&(i[l]=!0);return Object.keys(i).length===0?Xe:(i.horizontal===!0?i.left=i.right=!0:i.left===!0&&i.right===!0&&(i.horizontal=!0),i.vertical===!0?i.up=i.down=!0:i.up===!0&&i.down===!0&&(i.vertical=!0),i.horizontal===!0&&i.vertical===!0&&(i.all=!0),i)}const Ho=["INPUT","TEXTAREA"];function rt(e,i){return i.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof i.handler=="function"&&Ho.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(i.uid)===-1)}function Ae(e,i,l){const r=De(e);let t,a=r.left-i.event.x,n=r.top-i.event.y,o=Math.abs(a),v=Math.abs(n);const c=i.direction;c.horizontal===!0&&c.vertical!==!0?t=a<0?"left":"right":c.horizontal!==!0&&c.vertical===!0?t=n<0?"up":"down":c.up===!0&&n<0?(t="up",o>v&&(c.left===!0&&a<0?t="left":c.right===!0&&a>0&&(t="right"))):c.down===!0&&n>0?(t="down",o>v&&(c.left===!0&&a<0?t="left":c.right===!0&&a>0&&(t="right"))):c.left===!0&&a<0?(t="left",o<v&&(c.up===!0&&n<0?t="up":c.down===!0&&n>0&&(t="down"))):c.right===!0&&a>0&&(t="right",o<v&&(c.up===!0&&n<0?t="up":c.down===!0&&n>0&&(t="down")));let u=!1;if(t===void 0&&l===!1){if(i.event.isFirst===!0||i.event.lastDir===void 0)return{};t=i.event.lastDir,u=!0,t==="left"||t==="right"?(r.left-=a,o=0,a=0):(r.top-=n,v=0,n=0)}return{synthetic:u,payload:{evt:e,touch:i.event.mouse!==!0,mouse:i.event.mouse===!0,position:r,direction:t,isFirst:i.event.isFirst,isFinal:l===!0,duration:Date.now()-i.event.time,distance:{x:o,y:v},offset:{x:a,y:n},delta:{x:r.left-i.event.lastX,y:r.top-i.event.lastY}}}}let Fo=0;var me=Ft({name:"touch-pan",beforeMount(e,{value:i,modifiers:l}){if(l.mouse!==!0&&ve.has.touch!==!0)return;function r(a,n){l.mouse===!0&&n===!0?Se(a):(l.stop===!0&&Oe(a),l.prevent===!0&&Ke(a))}const t={uid:"qvtp_"+Fo++,handler:i,modifiers:l,direction:it(l),noop:Qe,mouseStart(a){rt(a,t)&&Qt(a)&&(re(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(a,!0))},touchStart(a){if(rt(a,t)){const n=a.target;re(t,"temp",[[n,"touchmove","move","notPassiveCapture"],[n,"touchcancel","end","passiveCapture"],[n,"touchend","end","passiveCapture"]]),t.start(a)}},start(a,n){if(ve.is.firefox===!0&&$e(e,!0),t.lastEvt=a,n===!0||l.stop===!0){if(t.direction.all!==!0&&(n!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const c=a.type.indexOf("mouse")!==-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&Ke(c),a.cancelBubble===!0&&Oe(c),Object.assign(c,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[t.uid]:a.qClonedBy.concat(t.uid)}),t.initialEvent={target:a.target,event:c}}Oe(a)}const{left:o,top:v}=De(a);t.event={x:o,y:v,time:Date.now(),mouse:n===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:o,lastY:v}},move(a){if(t.event===void 0)return;const n=De(a),o=n.left-t.event.x,v=n.top-t.event.y;if(o===0&&v===0)return;t.lastEvt=a;const c=t.event.mouse===!0,u=()=>{r(a,c);let d;l.preserveCursor!==!0&&l.preservecursor!==!0&&(d=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),c===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),He(),t.styleCleanup=g=>{if(t.styleCleanup=void 0,d!==void 0&&(document.documentElement.style.cursor=d),document.body.classList.remove("non-selectable"),c===!0){const L=()=>{document.body.classList.remove("no-pointer-events--children")};g!==void 0?setTimeout(()=>{L(),g()},50):L()}else g!==void 0&&g()}};if(t.event.detected===!0){t.event.isFirst!==!0&&r(a,t.event.mouse);const{payload:d,synthetic:g}=Ae(a,t,!1);d!==void 0&&(t.handler(d)===!1?t.end(a):(t.styleCleanup===void 0&&t.event.isFirst===!0&&u(),t.event.lastX=d.position.left,t.event.lastY=d.position.top,t.event.lastDir=g===!0?void 0:d.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||c===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){u(),t.event.detected=!0,t.move(a);return}const S=Math.abs(o),C=Math.abs(v);S!==C&&(t.direction.horizontal===!0&&S>C||t.direction.vertical===!0&&S<C||t.direction.up===!0&&S<C&&v<0||t.direction.down===!0&&S<C&&v>0||t.direction.left===!0&&S>C&&o<0||t.direction.right===!0&&S>C&&o>0?(t.event.detected=!0,t.move(a)):t.end(a,!0))},end(a,n){if(t.event!==void 0){if(fe(t,"temp"),ve.is.firefox===!0&&$e(e,!1),n===!0)t.styleCleanup!==void 0&&t.styleCleanup(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(Ae(a===void 0?t.lastEvt:a,t).payload);const{payload:o}=Ae(a===void 0?t.lastEvt:a,t,!0),v=()=>{t.handler(o)};t.styleCleanup!==void 0?t.styleCleanup(v):v()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,l.mouse===!0){const a=l.mouseCapture===!0||l.mousecapture===!0?"Capture":"";re(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}ve.has.touch===!0&&re(t,"main",[[e,"touchstart","touchStart",`passive${l.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,i){const l=e.__qtouchpan;l!==void 0&&(i.oldValue!==i.value&&(typeof value!="function"&&l.end(),l.handler=i.value),l.direction=it(i.modifiers))},beforeUnmount(e){const i=e.__qtouchpan;i!==void 0&&(i.event!==void 0&&i.end(),fe(i,"main"),fe(i,"temp"),ve.is.firefox===!0&&$e(e,!1),i.styleCleanup!==void 0&&i.styleCleanup(),delete e.__qtouchpan)}});const ut=150;var Qo=U({name:"QDrawer",inheritAttrs:!1,props:{...yt,...zt,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...bt,"onLayout","miniState"],setup(e,{slots:i,emit:l,attrs:r}){const t=K(),{proxy:{$q:a}}=t,n=Ct(e,a),{preventBodyScroll:o}=co(),{registerTimeout:v,removeTimeout:c}=pt(),u=_e(xe,Y);if(u===Y)return console.error("QDrawer needs to be child of QLayout"),Y;let S,C=null,d;const g=y(e.behavior==="mobile"||e.behavior!=="desktop"&&u.totalWidth.value<=e.breakpoint),L=m(()=>e.mini===!0&&g.value!==!0),$=m(()=>L.value===!0?e.miniWidth:e.width),_=y(e.showIfAbove===!0&&g.value===!1?!0:e.modelValue===!0),b=m(()=>e.persistent!==!0&&(g.value===!0||j.value===!0));function w(s,q){if(B(),s!==!1&&u.animate(),W(0),g.value===!0){const N=u.instances[Q.value];N!==void 0&&N.belowBreakpoint===!0&&N.hide(!1),G(1),u.isContainer.value!==!0&&o(!0)}else G(0),s!==!1&&ke(!1);v(()=>{s!==!1&&ke(!0),q!==!0&&l("show",s)},ut)}function h(s,q){V(),s!==!1&&u.animate(),G(0),W(A.value*$.value),Te(),q!==!0?v(()=>{l("hide",s)},ut):c()}const{show:p,hide:I}=wt({showing:_,hideOnRouteChange:b,handleShow:w,handleHide:h}),{addToHistory:B,removeFromHistory:V}=so(_,I,b),M={belowBreakpoint:g,hide:I},T=m(()=>e.side==="right"),A=m(()=>(a.lang.rtl===!0?-1:1)*(T.value===!0?1:-1)),oe=y(0),H=y(!1),ae=y(!1),le=y($.value*A.value),Q=m(()=>T.value===!0?"left":"right"),f=m(()=>_.value===!0&&g.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:$.value:0),z=m(()=>e.overlay===!0||e.miniToOverlay===!0||u.view.value.indexOf(T.value?"R":"L")!==-1||a.platform.is.ios===!0&&u.isContainer.value===!0),x=m(()=>e.overlay===!1&&_.value===!0&&g.value===!1),j=m(()=>e.overlay===!0&&_.value===!0&&g.value===!1),J=m(()=>"fullscreen q-drawer__backdrop"+(_.value===!1&&H.value===!1?" hidden":"")),de=m(()=>({backgroundColor:`rgba(0,0,0,${oe.value*.4})`})),D=m(()=>T.value===!0?u.rows.value.top[2]==="r":u.rows.value.top[0]==="l"),ne=m(()=>T.value===!0?u.rows.value.bottom[2]==="r":u.rows.value.bottom[0]==="l"),X=m(()=>{const s={};return u.header.space===!0&&D.value===!1&&(z.value===!0?s.top=`${u.header.offset}px`:u.header.space===!0&&(s.top=`${u.header.size}px`)),u.footer.space===!0&&ne.value===!1&&(z.value===!0?s.bottom=`${u.footer.offset}px`:u.footer.space===!0&&(s.bottom=`${u.footer.size}px`)),s}),be=m(()=>{const s={width:`${$.value}px`,transform:`translateX(${le.value}px)`};return g.value===!0?s:Object.assign(s,X.value)}),Tt=m(()=>"q-drawer__content fit "+(u.isContainer.value!==!0?"scroll":"overflow-auto")),Pt=m(()=>`q-drawer q-drawer--${e.side}`+(ae.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(n.value===!0?" q-drawer--dark q-dark":"")+(H.value===!0?" no-transition":_.value===!0?"":" q-layout--prevent-focus")+(g.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${L.value===!0?"mini":"standard"}`+(z.value===!0||x.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(D.value===!0?" q-drawer--top-padding":""))),$t=m(()=>{const s=a.lang.rtl===!0?e.side:Q.value;return[[me,Et,void 0,{[s]:!0,mouse:!0}]]}),Ot=m(()=>{const s=a.lang.rtl===!0?Q.value:e.side;return[[me,Ye,void 0,{[s]:!0,mouse:!0}]]}),Lt=m(()=>{const s=a.lang.rtl===!0?Q.value:e.side;return[[me,Ye,void 0,{[s]:!0,mouse:!0,mouseAllDir:!0}]]});function qe(){It(g,e.behavior==="mobile"||e.behavior!=="desktop"&&u.totalWidth.value<=e.breakpoint)}E(g,s=>{s===!0?(S=_.value,_.value===!0&&I(!1)):e.overlay===!1&&e.behavior!=="mobile"&&S!==!1&&(_.value===!0?(W(0),G(0),Te()):p(!1))}),E(()=>e.side,(s,q)=>{u.instances[q]===M&&(u.instances[q]=void 0,u[q].space=!1,u[q].offset=0),u.instances[s]=M,u[s].size=$.value,u[s].space=x.value,u[s].offset=f.value}),E(u.totalWidth,()=>{(u.isContainer.value===!0||document.qScrollPrevented!==!0)&&qe()}),E(()=>e.behavior+e.breakpoint,qe),E(u.isContainer,s=>{_.value===!0&&o(s!==!0),s===!0&&qe()}),E(u.scrollbarWidth,()=>{W(_.value===!0?0:void 0)}),E(f,s=>{Z("offset",s)}),E(x,s=>{l("onLayout",s),Z("space",s)}),E(T,()=>{W()}),E($,s=>{W(),Pe(e.miniToOverlay,s)}),E(()=>e.miniToOverlay,s=>{Pe(s,$.value)}),E(()=>a.lang.rtl,()=>{W()}),E(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Bt(),u.animate())}),E(L,s=>{l("miniState",s)});function W(s){s===void 0?he(()=>{s=_.value===!0?0:$.value,W(A.value*s)}):(u.isContainer.value===!0&&T.value===!0&&(g.value===!0||Math.abs(s)===$.value)&&(s+=A.value*u.scrollbarWidth.value),le.value=s)}function G(s){oe.value=s}function ke(s){const q=s===!0?"remove":u.isContainer.value!==!0?"add":"";q!==""&&document.body.classList[q]("q-body--drawer-toggle")}function Bt(){C!==null&&clearTimeout(C),t.proxy&&t.proxy.$el&&t.proxy.$el.classList.add("q-drawer--mini-animate"),ae.value=!0,C=setTimeout(()=>{C=null,ae.value=!1,t&&t.proxy&&t.proxy.$el&&t.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Et(s){if(_.value!==!1)return;const q=$.value,N=ee(s.distance.x,0,q);if(s.isFinal===!0){N>=Math.min(75,q)===!0?p():(u.animate(),G(0),W(A.value*q)),H.value=!1;return}W((a.lang.rtl===!0?T.value!==!0:T.value)?Math.max(q-N,0):Math.min(0,N-q)),G(ee(N/q,0,1)),s.isFirst===!0&&(H.value=!0)}function Ye(s){if(_.value!==!0)return;const q=$.value,N=s.direction===e.side,pe=(a.lang.rtl===!0?N!==!0:N)?ee(s.distance.x,0,q):0;if(s.isFinal===!0){Math.abs(pe)<Math.min(75,q)===!0?(u.animate(),G(1),W(0)):I(),H.value=!1;return}W(A.value*pe),G(ee(1-pe/q,0,1)),s.isFirst===!0&&(H.value=!0)}function Te(){o(!1),ke(!0)}function Z(s,q){u.update(e.side,s,q)}function It(s,q){s.value!==q&&(s.value=q)}function Pe(s,q){Z("size",s===!0?e.miniWidth:q)}return u.instances[e.side]=M,Pe(e.miniToOverlay,$.value),Z("space",x.value),Z("offset",f.value),e.showIfAbove===!0&&e.modelValue!==!0&&_.value===!0&&e["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!0),se(()=>{l("onLayout",x.value),l("miniState",L.value),S=e.showIfAbove===!0;const s=()=>{(_.value===!0?w:h)(!1,!0)};if(u.totalWidth.value!==0){he(s);return}d=E(u.totalWidth,()=>{d(),d=void 0,_.value===!1&&e.showIfAbove===!0&&g.value===!1?p(!1):s()})}),te(()=>{d!==void 0&&d(),C!==null&&(clearTimeout(C),C=null),_.value===!0&&Te(),u.instances[e.side]===M&&(u.instances[e.side]=void 0,Z("size",0),Z("offset",0),Z("space",!1))}),()=>{const s=[];g.value===!0&&(e.noSwipeOpen===!1&&s.push(ze(P("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),$t.value)),s.push(Je("div",{ref:"backdrop",class:J.value,style:de.value,"aria-hidden":"true",onClick:I},void 0,"backdrop",e.noSwipeBackdrop!==!0&&_.value===!0,()=>Lt.value)));const q=L.value===!0&&i.mini!==void 0,N=[P("div",{...r,key:""+q,class:[Tt.value,r.class]},q===!0?i.mini():ye(i.default))];return e.elevated===!0&&_.value===!0&&N.push(P("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),s.push(Je("aside",{ref:"content",class:Pt.value,style:be.value},N,"contentclose",e.noSwipeClose!==!0&&g.value===!0,()=>Ot.value)),P("div",{class:"q-drawer-container"},s)}}});const st=["vertical","horizontal"],Me={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},ct={prevent:!0,mouse:!0,mouseAllDir:!0},dt=e=>e>=250?50:Math.ceil(e/5);var No=U({name:"QScrollArea",props:{...zt,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:i,emit:l}){const r=y(!1),t=y(!1),a=y(!1),n={vertical:y(0),horizontal:y(0)},o={vertical:{ref:y(null),position:y(0),size:y(0)},horizontal:{ref:y(null),position:y(0),size:y(0)}},{proxy:v}=K(),c=Ct(e,v.$q);let u=null,S;const C=y(null),d=m(()=>"q-scrollarea"+(c.value===!0?" q-scrollarea--dark":""));o.vertical.percentage=m(()=>{const f=o.vertical.size.value-n.vertical.value;if(f<=0)return 0;const z=ee(o.vertical.position.value/f,0,1);return Math.round(z*1e4)/1e4}),o.vertical.thumbHidden=m(()=>(e.visible===null?a.value:e.visible)!==!0&&r.value===!1&&t.value===!1||o.vertical.size.value<=n.vertical.value+1),o.vertical.thumbStart=m(()=>o.vertical.percentage.value*(n.vertical.value-o.vertical.thumbSize.value)),o.vertical.thumbSize=m(()=>Math.round(ee(n.vertical.value*n.vertical.value/o.vertical.size.value,dt(n.vertical.value),n.vertical.value))),o.vertical.style=m(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${o.vertical.thumbStart.value}px`,height:`${o.vertical.thumbSize.value}px`})),o.vertical.thumbClass=m(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(o.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),o.vertical.barClass=m(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(o.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),o.horizontal.percentage=m(()=>{const f=o.horizontal.size.value-n.horizontal.value;if(f<=0)return 0;const z=ee(Math.abs(o.horizontal.position.value)/f,0,1);return Math.round(z*1e4)/1e4}),o.horizontal.thumbHidden=m(()=>(e.visible===null?a.value:e.visible)!==!0&&r.value===!1&&t.value===!1||o.horizontal.size.value<=n.horizontal.value+1),o.horizontal.thumbStart=m(()=>o.horizontal.percentage.value*(n.horizontal.value-o.horizontal.thumbSize.value)),o.horizontal.thumbSize=m(()=>Math.round(ee(n.horizontal.value*n.horizontal.value/o.horizontal.size.value,dt(n.horizontal.value),n.horizontal.value))),o.horizontal.style=m(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[v.$q.lang.rtl===!0?"right":"left"]:`${o.horizontal.thumbStart.value}px`,width:`${o.horizontal.thumbSize.value}px`})),o.horizontal.thumbClass=m(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(o.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),o.horizontal.barClass=m(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(o.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const g=m(()=>o.vertical.thumbHidden.value===!0&&o.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle),L=[[me,f=>{B(f,"vertical")},void 0,{vertical:!0,...ct}]],$=[[me,f=>{B(f,"horizontal")},void 0,{horizontal:!0,...ct}]];function _(){const f={};return st.forEach(z=>{const x=o[z];f[z+"Position"]=x.position.value,f[z+"Percentage"]=x.percentage.value,f[z+"Size"]=x.size.value,f[z+"ContainerSize"]=n[z].value}),f}const b=Nt(()=>{const f=_();f.ref=v,l("scroll",f)},0);function w(f,z,x){if(st.includes(f)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(f==="vertical"?ot:Be)(C.value,z,x)}function h({height:f,width:z}){let x=!1;n.vertical.value!==f&&(n.vertical.value=f,x=!0),n.horizontal.value!==z&&(n.horizontal.value=z,x=!0),x===!0&&A()}function p({position:f}){let z=!1;o.vertical.position.value!==f.top&&(o.vertical.position.value=f.top,z=!0),o.horizontal.position.value!==f.left&&(o.horizontal.position.value=f.left,z=!0),z===!0&&A()}function I({height:f,width:z}){o.horizontal.size.value!==z&&(o.horizontal.size.value=z,A()),o.vertical.size.value!==f&&(o.vertical.size.value=f,A())}function B(f,z){const x=o[z];if(f.isFirst===!0){if(x.thumbHidden.value===!0)return;S=x.position.value,t.value=!0}else if(t.value!==!0)return;f.isFinal===!0&&(t.value=!1);const j=Me[z],J=n[z].value,de=(x.size.value-J)/(J-x.thumbSize.value),D=f.distance[j.dist],ne=S+(f.direction===j.dir?1:-1)*D*de;oe(ne,z)}function V(f,z){const x=o[z];if(x.thumbHidden.value!==!0){const j=f[Me[z].offset];if(j<x.thumbStart.value||j>x.thumbStart.value+x.thumbSize.value){const J=j-x.thumbSize.value/2;oe(J/n[z].value*x.size.value,z)}x.ref.value!==null&&x.ref.value.dispatchEvent(new MouseEvent(f.type,f))}}function M(f){V(f,"vertical")}function T(f){V(f,"horizontal")}function A(){r.value=!0,u!==null&&clearTimeout(u),u=setTimeout(()=>{u=null,r.value=!1},e.delay),e.onScroll!==void 0&&b()}function oe(f,z){C.value[Me[z].scroll]=f}let H=null;function ae(){H!==null&&clearTimeout(H),H=setTimeout(()=>{H=null,a.value=!0},v.$q.platform.is.ios?50:0)}function le(){H!==null&&(clearTimeout(H),H=null),a.value=!1}let Q=null;return E(()=>v.$q.lang.rtl,f=>{C.value!==null&&Be(C.value,Math.abs(o.horizontal.position.value)*(f===!0?-1:1))}),mt(()=>{Q={top:o.vertical.position.value,left:o.horizontal.position.value}}),ht(()=>{if(Q===null)return;const f=C.value;f!==null&&(Be(f,Q.left),ot(f,Q.top))}),te(b.cancel),Object.assign(v,{getScrollTarget:()=>C.value,getScroll:_,getScrollPosition:()=>({top:o.vertical.position.value,left:o.horizontal.position.value}),getScrollPercentage:()=>({top:o.vertical.percentage.value,left:o.horizontal.percentage.value}),setScrollPosition:w,setScrollPercentage(f,z,x){w(f,z*(o[f].size.value-n[f].value)*(f==="horizontal"&&v.$q.lang.rtl===!0?-1:1),x)}}),()=>P("div",{class:d.value,onMouseenter:ae,onMouseleave:le},[P("div",{ref:C,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[P("div",{class:"q-scrollarea__content absolute",style:g.value},ft(i.default,[P(ge,{debounce:0,onResize:I})])),P(_t,{axis:"both",onScroll:p})]),P(ge,{debounce:0,onResize:h}),P("div",{class:o.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:M}),P("div",{class:o.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:T}),ze(P("div",{ref:o.vertical.ref,class:o.vertical.thumbClass.value,style:o.vertical.style.value,"aria-hidden":"true"}),L),ze(P("div",{ref:o.horizontal.ref,class:o.horizontal.thumbClass.value,style:o.horizontal.style.value,"aria-hidden":"true"}),$)])}});const Ro={__name:"DrawerItems",props:{loggedIn:Boolean},setup(e){const l=Ce(e,"loggedIn");Rt(()=>document.getElementById("itemHome").click());const r=y([{name:"Home",isActive:!0,icon:"home",defaultTextColor:"text-dark",activeTextColor:"text-secondary",defaultIconColor:"text-grey",activeIconColor:"text-secondary"},{name:"Workloads",isActive:!1,icon:"auto_awesome_motion",defaultTextColor:"text-dark",activeTextColor:"text-secondary",defaultIconColor:"text-grey",activeIconColor:"text-secondary"},{name:"Dependencies",isActive:!1,icon:"mediation",defaultTextColor:"text-dark",activeTextColor:"text-secondary",defaultIconColor:"text-grey",activeIconColor:"text-secondary"},{name:"About",isActive:!1,icon:"info",defaultTextColor:"text-dark",activeTextColor:"text-secondary",defaultIconColor:"text-grey",activeIconColor:"text-secondary"}]);function t(a){const n=r.value.length;for(let o=0;o<n;o++)r.value[o].name==a?r.value[o].isActive=!0:r.value[o].isActive=!1}return(a,n)=>(F(),R(No,{class:"fit","horizontal-thumb-style":{opacity:0}},{default:O(()=>[k(yo,{padding:""},{default:O(()=>[(F(!0),je(jt,null,Wt(r.value,o=>ze((F(),R(vo,{modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=v=>l.value=v),key:o.name,id:"item"+o.name,clickable:"",onClick:v=>t(o.name),to:l.value?"/"+o.name.toLowerCase():"/nologin"},{default:O(()=>[k(at,{avatar:""},{default:O(()=>[k(ie,{class:Ge(o.isActive?o.activeIconColor:o.defaultIconColor),name:o.icon},null,8,["class","name"])]),_:2},1024),k(at,{class:Ge(o.isActive?o.activeTextColor:o.defaultTextColor)},{default:O(()=>[Re(We(o.name),1)]),_:2},1032,["class"])]),_:2},1032,["modelValue","id","onClick","to"])),[[Ut]])),128))]),_:1})]),_:1}))}},jo={__name:"DashboardDrawer",props:{drawerOpen:Boolean,loggedIn:Boolean},setup(e){const i=y(!0),l=e,r=Ce(l,"drawerOpen"),t=Ce(l,"loggedIn");return(a,n)=>(F(),R(Qo,{modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=o=>r.value=o),"show-if-above":"",mini:i.value,onMouseover:n[1]||(n[1]=o=>i.value=!1),onMouseout:n[2]||(n[2]=o=>i.value=!0),width:200,breakpoint:500,bordered:"",class:"bg-grey-3"},{default:O(()=>[k(Ro,{loggedIn:t.value},null,8,["loggedIn"])]),_:1},8,["modelValue","mini"]))}};var Wo=U({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:i,emit:l}){const r=K(),t=y(null);let a=0;const n=[];function o(d){const g=typeof d=="boolean"?d:e.noErrorFocus!==!0,L=++a,$=(w,h)=>{l("validation"+(w===!0?"Success":"Error"),h)},_=w=>{const h=w.validate();return typeof h.then=="function"?h.then(p=>({valid:p,comp:w}),p=>({valid:!1,comp:w,err:p})):Promise.resolve({valid:h,comp:w})};return(e.greedy===!0?Promise.all(n.map(_)).then(w=>w.filter(h=>h.valid!==!0)):n.reduce((w,h)=>w.then(()=>_(h).then(p=>{if(p.valid===!1)return Promise.reject(p)})),Promise.resolve()).catch(w=>[w])).then(w=>{if(w===void 0||w.length===0)return L===a&&$(!0),!0;if(L===a){const{comp:h,err:p}=w[0];if(p!==void 0&&console.error(p),$(!1,h),g===!0){const I=w.find(({comp:B})=>typeof B.focus=="function"&&Xt(B.$)===!1);I!==void 0&&I.comp.focus()}}return!1})}function v(){a++,n.forEach(d=>{typeof d.resetValidation=="function"&&d.resetValidation()})}function c(d){d!==void 0&&Se(d);const g=a+1;o().then(L=>{g===a&&L===!0&&(e.onSubmit!==void 0?l("submit",d):d!==void 0&&d.target!==void 0&&typeof d.target.submit=="function"&&d.target.submit())})}function u(d){d!==void 0&&Se(d),l("reset"),he(()=>{v(),e.autofocus===!0&&e.noResetFocus!==!0&&S()})}function S(){fo(()=>{if(t.value===null)return;const d=t.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||t.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||t.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(t.value.querySelectorAll("[tabindex]"),g=>g.tabIndex!==-1);d!=null&&d.focus({preventScroll:!0})})}Fe(Yt,{bindComponent(d){n.push(d)},unbindComponent(d){const g=n.indexOf(d);g!==-1&&n.splice(g,1)}});let C=!1;return mt(()=>{C=!0}),ht(()=>{C===!0&&e.autofocus===!0&&S()}),se(()=>{e.autofocus===!0&&S()}),Object.assign(r.proxy,{validate:o,resetValidation:v,submit:c,reset:u,focus:S,getValidationComponents:()=>n}),()=>P("form",{class:"q-form",ref:t,onSubmit:c,onReset:u},ye(i.default))}});const Uo={class:"text-h5 text-white q-my-xs"},Xo={__name:"LoginDialog",props:{loginOpen:Boolean,title:String},emits:["clickCloseLoginBtn","userLoggedIn"],setup(e,{emit:i}){const l=i;function r(M){return M&&M.length>0||"Mandatory field"}function t(){d.value=!d.value,C.value=d.value?"text":"password",g.value=d.value?"visibility":"visibility_off"}function a(){$.value=!$.value,L.value=$.value?"text":"password",_.value=$.value?"visibility":"visibility_off"}function n(){if(!V.value&&(u.value==""||S.value=="")||V.value&&(u.value==""||S.value==""||B.value==""))w.notify({type:"negative",message:"Missing input, we can't log you in :("}),h.value.validate(),p.value.validate(),I.value.validate();else if(V.value){if(V.value){const M={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pwd:S,newPwd:B})};fetch("/setNewPwd",M).then(function(T){T.status==200?(w.notify({type:"positive",message:"Changed password successfully, good job!"}),u.value="",S.value="",B.value="",o()):T.status==401&&(w.notify({type:"negative",message:"Wrong password, we can't change it :("}),p.value.focus())})}}else{const M={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pwd:S})};fetch("/login",M).then(function(T){T.status==200?(w.notify({type:"positive",message:"Login successful, great to see you! :)"}),l("userLoggedIn",u.value),l("clickCloseLoginBtn"),u.value="",S.value=""):T.status==401&&(w.notify({type:"negative",message:"Wrong password, we can't log you in :("}),p.value.focus())})}}function o(){V.value=!V.value,B.value=""}const c=Ce(e,"loginOpen"),u=y(""),S=y(""),C=y("password"),d=y(!1),g=y("visibility_off"),L=y("password"),$=y(!1),_=y("visibility_off"),b=y("Let's go!"),w=kt(),h=y(""),p=y(""),I=y(""),B=y(""),V=y(!1);return(M,T)=>(F(),R(ho,{modelValue:c.value,"onUpdate:modelValue":T[4]||(T[4]=A=>c.value=A),persistent:""},{default:O(()=>[k(mo,{square:"",class:"shadow-24",style:{width:"400px",height:"540px"}},{default:O(()=>[k(Ee,{class:"row items-center bg-secondary"},{default:O(()=>[Ne("div",Uo,We(e.title),1),k(St),k(ce,{flat:"",round:"",dense:"",onClick:T[0]||(T[0]=A=>M.$emit("clickCloseLoginBtn"))},{default:O(()=>[k(ie,{name:"close",color:"white"})]),_:1})]),_:1}),k(Ee,null,{default:O(()=>[k(Wo,{class:"q-px-sm q-pt-md"},{default:O(()=>[k(Ie,{ref_key:"userField",ref:h,color:"secondary",square:"",clearable:"false",modelValue:u.value,"onUpdate:modelValue":T[1]||(T[1]=A=>u.value=A),type:"text","lazy-rules":"",rules:[r],"no-error-icon":"true",label:"User"},{prepend:O(()=>[k(ie,{name:"person"})]),_:1},8,["modelValue","rules"]),k(Ie,{ref_key:"pwField",ref:p,color:"secondary",square:"",clearable:"false",modelValue:S.value,"onUpdate:modelValue":T[2]||(T[2]=A=>S.value=A),type:C.value,"lazy-rules":"",rules:[r],"no-error-icon":"true",label:V.value?"Old password":"Password"},{prepend:O(()=>[k(ie,{name:"lock"})]),append:O(()=>[k(ie,{name:g.value,onClick:t,class:"cursor-pointer"},null,8,["name"])]),_:1},8,["modelValue","type","rules","label"]),V.value?(F(),R(Ie,{key:0,ref_key:"newPwField",ref:I,color:"secondary",square:"",clearable:"false",modelValue:B.value,"onUpdate:modelValue":T[3]||(T[3]=A=>B.value=A),type:L.value,"lazy-rules":"",rules:[r],"no-error-icon":"true",label:"New password"},{prepend:O(()=>[k(ie,{class:"text-negative",name:"close",onClick:o})]),append:O(()=>[k(ie,{name:_.value,onClick:a,class:"cursor-pointer"},null,8,["name"])]),_:1},8,["modelValue","type","rules"])):ue("",!0)]),_:1})]),_:1}),k(go,{class:"q-px-lg"},{default:O(()=>[k(ce,{unelevated:"",size:"md",color:"secondary",onClick:n,class:"full-width text-white",label:b.value},null,8,["label"])]),_:1}),k(Ee,{class:"text-center q-pa-sm"},{default:O(()=>[V.value?ue("",!0):(F(),je("div",{key:0,onClick:o,class:"text-grey-6 cursor-pointer"}," Change password? "))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};const oa=Object.assign({name:"AnkaiosLayout"},{__name:"MainLayout",setup(e){const i=y(!0),l=y(!1),r=y(!1),t=y("");function a(){i.value=!i.value}function n(){l.value=!l.value}function o(v){t.value=v,r.value=!r.value}return(v,c)=>{const u=Kt("router-view");return F(),R(So,{view:"hHh Lpr lff",class:"shadow-2 rounded-borders"},{default:O(()=>[k(Vo,{loggedInUser:t.value,loggedIn:r.value,onClickDrawerBtn:a,onClickLoginBtn:n,onClickLogoutBtn:o},null,8,["loggedInUser","loggedIn"]),k(jo,{drawerOpen:i.value,loggedIn:r.value},null,8,["drawerOpen","loggedIn"]),k(Xo,{loginOpen:l.value,onClickCloseLoginBtn:n,onUserLoggedIn:o,title:"Login"},null,8,["loginOpen"]),k(bo,null,{default:O(()=>[k(u)]),_:1})]),_:1})}}});export{oa as default};
