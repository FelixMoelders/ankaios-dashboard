import{c as ge,a as s,h,t as Ge,g as Ae,n as Wt,r as E,w as se,U as Ut,aq as Xt,V as Yt,W as Gt,f as Je,m as re,at as xt,au as kt,S as Jt,$ as Le,az as Zt,a1 as el,D as ne,b as Ze,P as tl,T as ll,am as nl,aj as ul,Y as al,N as Ue,aA as ze,a8 as ol,O as xe,al as il,aB as ke}from"./index.5df7115f.js";import{u as De,a as pe}from"./use-dark.b2c8772e.js";import{H as et,I as qt,J as At,K as Bt,u as rl,d as sl,e as cl,v as gt,f as dl,h as fl,i as vl,j as ml,k as gl,l as Sl,m as hl,n as bl,o as yl,L as wl,M as Cl,r as St,N as ht,g as Vl,s as xl,C as kl,q as bt,O as ql,t as Al,P as Bl,R as Ot,S as Ol,T as yt,G as Il,U as wt,B as _l,Q as zl,V as Tl,W as Fl}from"./QDialog.4788e70a.js";const Ml=["top","middle","bottom"];var Jl=ge({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Ml.includes(e)}},setup(e,{slots:c}){const l=s(()=>e.align!==void 0?{verticalAlign:e.align}:null),f=s(()=>{const V=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(V!==void 0?` text-${V}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>h("div",{class:f.value,style:l.value,role:"status","aria-label":e.label},Ge(c.default,e.label!==void 0?[e.label]:[]))}});const El={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Xe={xs:2,sm:4,md:8,lg:16,xl:24};var Zl=ge({name:"QSeparator",props:{...De,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const c=Ae(),l=pe(e,c.proxy.$q),f=s(()=>e.vertical===!0?"vertical":"horizontal"),V=s(()=>` q-separator--${f.value}`),u=s(()=>e.inset!==!1?`${V.value}-${El[e.inset]}`:""),k=s(()=>`q-separator${V.value}${u.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(l.value===!0?" q-separator--dark":"")),w=s(()=>{const m={};if(e.size!==void 0&&(m[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const O=e.spaced===!0?`${Xe.md}px`:e.spaced in Xe?`${Xe[e.spaced]}px`:e.spaced,d=e.vertical===!0?["Left","Right"]:["Top","Bottom"];m[`margin${d[0]}`]=m[`margin${d[1]}`]=O}return m});return()=>h("hr",{class:k.value,style:w.value,"aria-orientation":f.value})}});let $e=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const c=document.createElement("div");Object.assign(c.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(c),e.scrollLeft=-1e3,$e=e.scrollLeft>=0,e.remove()}const Y=1e3,Rl=["start","center","end","start-force","center-force","end-force"],It=Array.prototype.filter,Pl=window.getComputedStyle(document.body).overflowAnchor===void 0?Wt:function(e,c){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const l=e.children||[];It.call(l,V=>V.dataset&&V.dataset.qVsAnchor!==void 0).forEach(V=>{delete V.dataset.qVsAnchor});const f=l[c];f&&f.dataset&&(f.dataset.qVsAnchor="")}))};function qe(e,c){return e+c}function Ye(e,c,l,f,V,u,k,w){const m=e===window?document.scrollingElement||document.documentElement:e,O=V===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-k-w,scrollMaxSize:0,offsetStart:-k,offsetEnd:-w};if(V===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=m.scrollLeft,d.scrollViewSize+=m.clientWidth),d.scrollMaxSize=m.scrollWidth,u===!0&&(d.scrollStart=($e===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=m.scrollTop,d.scrollViewSize+=m.clientHeight),d.scrollMaxSize=m.scrollHeight),l!==null)for(let b=l.previousElementSibling;b!==null;b=b.previousElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=b[O]);if(f!==null)for(let b=f.nextElementSibling;b!==null;b=b.nextElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=b[O]);if(c!==e){const b=m.getBoundingClientRect(),y=c.getBoundingClientRect();V===!0?(d.offsetStart+=y.left-b.left,d.offsetEnd-=y.width):(d.offsetStart+=y.top-b.top,d.offsetEnd-=y.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function Ct(e,c,l,f){c==="end"&&(c=(e===window?document.body:e)[l===!0?"scrollWidth":"scrollHeight"]),e===window?l===!0?(f===!0&&(c=($e===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-c),window.scrollTo(c,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c):l===!0?(f===!0&&(c=($e===!0?e.scrollWidth-e.offsetWidth:0)-c),e.scrollLeft=c):e.scrollTop=c}function Te(e,c,l,f){if(l>=f)return 0;const V=c.length,u=Math.floor(l/Y),k=Math.floor((f-1)/Y)+1;let w=e.slice(u,k).reduce(qe,0);return l%Y!==0&&(w-=c.slice(u*Y,l).reduce(qe,0)),f%Y!==0&&f!==V&&(w-=c.slice(f,k*Y).reduce(qe,0)),w}const _t={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},en=Object.keys(_t),Ll={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,..._t};function $l({virtualScrollLength:e,getVirtualScrollTarget:c,getVirtualScrollEl:l,virtualScrollItemSizeComputed:f}){const V=Ae(),{props:u,emit:k,proxy:w}=V,{$q:m}=w;let O,d,b,y=[],B;const A=E(0),L=E(0),v=E({}),D=E(null),Q=E(null),$=E(null),T=E({from:0,to:0}),ae=s(()=>u.tableColspan!==void 0?u.tableColspan:100);f===void 0&&(f=s(()=>u.virtualScrollItemSize));const F=s(()=>f.value+";"+u.virtualScrollHorizontal),p=s(()=>F.value+";"+u.virtualScrollSliceRatioBefore+";"+u.virtualScrollSliceRatioAfter);se(p,()=>{U()}),se(F,X);function X(){oe(d,!0)}function G(n){oe(n===void 0?d:n)}function W(n,i){const x=c();if(x==null||x.nodeType===8)return;const I=Ye(x,l(),D.value,Q.value,u.virtualScrollHorizontal,m.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd);b!==I.scrollViewSize&&U(I.scrollViewSize),g(x,I,Math.min(e.value-1,Math.max(0,parseInt(n,10)||0)),0,Rl.indexOf(i)!==-1?i:d!==-1&&n>d?"end":"start")}function ue(){const n=c();if(n==null||n.nodeType===8)return;const i=Ye(n,l(),D.value,Q.value,u.virtualScrollHorizontal,m.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd),x=e.value-1,I=i.scrollMaxSize-i.offsetStart-i.offsetEnd-L.value;if(O===i.scrollStart)return;if(i.scrollMaxSize<=0){g(n,i,0,0);return}b!==i.scrollViewSize&&U(i.scrollViewSize),H(T.value.from);const M=Math.floor(i.scrollMaxSize-Math.max(i.scrollViewSize,i.offsetEnd)-Math.min(B[x],i.scrollViewSize/2));if(M>0&&Math.ceil(i.scrollStart)>=M){g(n,i,x,i.scrollMaxSize-i.offsetEnd-y.reduce(qe,0));return}let q=0,C=i.scrollStart-i.offsetStart,R=C;if(C<=I&&C+i.scrollViewSize>=A.value)C-=A.value,q=T.value.from,R=C;else for(let a=0;C>=y[a]&&q<x;a++)C-=y[a],q+=Y;for(;C>0&&q<x;)C-=B[q],C>-i.scrollViewSize?(q++,R=C):R=B[q]+C;g(n,i,q,R)}function g(n,i,x,I,M){const q=typeof M=="string"&&M.indexOf("-force")!==-1,C=q===!0?M.replace("-force",""):M,R=C!==void 0?C:"start";let a=Math.max(0,x-v.value[R]),N=a+v.value.total;N>e.value&&(N=e.value,a=Math.max(0,N-v.value.total)),O=i.scrollStart;const ee=a!==T.value.from||N!==T.value.to;if(ee===!1&&C===void 0){ie(x);return}const{activeElement:Se}=document,te=$.value;ee===!0&&te!==null&&te!==Se&&te.contains(Se)===!0&&(te.addEventListener("focusout",J),setTimeout(()=>{te!==null&&te.removeEventListener("focusout",J)})),Pl(te,x-a);const Fe=C!==void 0?B.slice(a,x).reduce(qe,0):0;if(ee===!0){const de=N>=T.value.from&&a<=T.value.to?T.value.to:N;T.value={from:a,to:de},A.value=Te(y,B,0,a),L.value=Te(y,B,N,e.value),requestAnimationFrame(()=>{T.value.to!==N&&O===i.scrollStart&&(T.value={from:T.value.from,to:N},L.value=Te(y,B,N,e.value))})}requestAnimationFrame(()=>{if(O!==i.scrollStart)return;ee===!0&&H(a);const de=B.slice(a,x).reduce(qe,0),fe=de+i.offsetStart+A.value,Me=fe+B[x];let Oe=fe+I;if(C!==void 0){const He=de-Fe,Ie=i.scrollStart+He;Oe=q!==!0&&Ie<fe&&Me<Ie+i.scrollViewSize?Ie:C==="end"?Me-i.scrollViewSize:fe-(C==="start"?0:Math.round((i.scrollViewSize-B[x])/2))}O=Oe,Ct(n,Oe,u.virtualScrollHorizontal,m.lang.rtl),ie(x)})}function H(n){const i=$.value;if(i){const x=It.call(i.children,a=>a.classList&&a.classList.contains("q-virtual-scroll--skip")===!1),I=x.length,M=u.virtualScrollHorizontal===!0?a=>a.getBoundingClientRect().width:a=>a.offsetHeight;let q=n,C,R;for(let a=0;a<I;){for(C=M(x[a]),a++;a<I&&x[a].classList.contains("q-virtual-scroll--with-prev")===!0;)C+=M(x[a]),a++;R=C-B[q],R!==0&&(B[q]+=R,y[Math.floor(q/Y)]+=R),q++}}}function J(){$.value!==null&&$.value!==void 0&&$.value.focus()}function oe(n,i){const x=1*f.value;(i===!0||Array.isArray(B)===!1)&&(B=[]);const I=B.length;B.length=e.value;for(let q=e.value-1;q>=I;q--)B[q]=x;const M=Math.floor((e.value-1)/Y);y=[];for(let q=0;q<=M;q++){let C=0;const R=Math.min((q+1)*Y,e.value);for(let a=q*Y;a<R;a++)C+=B[a];y.push(C)}d=-1,O=void 0,A.value=Te(y,B,0,T.value.from),L.value=Te(y,B,T.value.to,e.value),n>=0?(H(T.value.from),re(()=>{W(n)})):Z()}function U(n){if(n===void 0&&typeof window!="undefined"){const C=c();C!=null&&C.nodeType!==8&&(n=Ye(C,l(),D.value,Q.value,u.virtualScrollHorizontal,m.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd).scrollViewSize)}b=n;const i=parseFloat(u.virtualScrollSliceRatioBefore)||0,x=parseFloat(u.virtualScrollSliceRatioAfter)||0,I=1+i+x,M=n===void 0||n<=0?1:Math.ceil(n/f.value),q=Math.max(1,M,Math.ceil((u.virtualScrollSliceSize>0?u.virtualScrollSliceSize:10)/I));v.value={total:Math.ceil(q*I),start:Math.ceil(q*i),center:Math.ceil(q*(.5+i)),end:Math.ceil(q*(1+i)),view:M}}function Be(n,i){const x=u.virtualScrollHorizontal===!0?"width":"height",I={["--q-virtual-scroll-item-"+x]:f.value+"px"};return[n==="tbody"?h(n,{class:"q-virtual-scroll__padding",key:"before",ref:D},[h("tr",[h("td",{style:{[x]:`${A.value}px`,...I},colspan:ae.value})])]):h(n,{class:"q-virtual-scroll__padding",key:"before",ref:D,style:{[x]:`${A.value}px`,...I}}),h(n,{class:"q-virtual-scroll__content",key:"content",ref:$,tabindex:-1},i.flat()),n==="tbody"?h(n,{class:"q-virtual-scroll__padding",key:"after",ref:Q},[h("tr",[h("td",{style:{[x]:`${L.value}px`,...I},colspan:ae.value})])]):h(n,{class:"q-virtual-scroll__padding",key:"after",ref:Q,style:{[x]:`${L.value}px`,...I}})]}function ie(n){d!==n&&(u.onVirtualScroll!==void 0&&k("virtualScroll",{index:n,from:T.value.from,to:T.value.to-1,direction:n<d?"decrease":"increase",ref:w}),d=n)}U();const Z=Ut(ue,m.platform.is.ios===!0?120:35);Xt(()=>{U()});let ce=!1;return Yt(()=>{ce=!0}),Gt(()=>{if(ce!==!0)return;const n=c();O!==void 0&&n!==void 0&&n!==null&&n.nodeType!==8?Ct(n,O,u.virtualScrollHorizontal,m.lang.rtl):W(d)}),Je(()=>{Z.cancel()}),Object.assign(w,{scrollTo:W,reset:X,refresh:G}),{virtualScrollSliceRange:T,virtualScrollSliceSizeComputed:v,setVirtualScrollSize:U,onVirtualScrollEvt:Z,localResetVirtualScroll:oe,padVirtualScroll:Be,scrollTo:W,reset:X,refresh:G}}var Dl=ge({name:"QField",inheritAttrs:!1,props:{...et,tag:{type:String,default:"label"}},emits:qt,setup(){return At(Bt({requiredForAttr:!1,tagProp:!0}))}});const pl={xs:8,sm:10,md:14,lg:20,xl:24};var Hl=ge({name:"QChip",props:{...De,...xt,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:c,emit:l}){const{proxy:{$q:f}}=Ae(),V=pe(e,f),u=kt(e,pl),k=s(()=>e.selected===!0||e.icon!==void 0),w=s(()=>e.selected===!0?e.iconSelected||f.iconSet.chip.selected:e.icon),m=s(()=>e.iconRemove||f.iconSet.chip.remove),O=s(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),d=s(()=>{const v=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(v?` text-${v} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(O.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(V.value===!0?" q-chip--dark q-dark":"")}),b=s(()=>{const v=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},D={...v,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||f.lang.label.remove};return{chip:v,remove:D}});function y(v){v.keyCode===13&&B(v)}function B(v){e.disable||(l("update:selected",!e.selected),l("click",v))}function A(v){(v.keyCode===void 0||v.keyCode===13)&&(ne(v),e.disable===!1&&(l("update:modelValue",!1),l("remove")))}function L(){const v=[];O.value===!0&&v.push(h("div",{class:"q-focus-helper"})),k.value===!0&&v.push(h(Le,{class:"q-chip__icon q-chip__icon--left",name:w.value}));const D=e.label!==void 0?[h("div",{class:"ellipsis"},[e.label])]:void 0;return v.push(h("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Zt(c.default,D))),e.iconRight&&v.push(h(Le,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&v.push(h(Le,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:m.value,...b.value.remove,onClick:A,onKeyup:A})),v}return()=>{if(e.modelValue===!1)return;const v={class:d.value,style:u.value};return O.value===!0&&Object.assign(v,b.value.chip,{onClick:B,onKeyup:y}),Jt("div",v,L(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[el,e.ripple]])}}}),Nl=ge({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:c}){const l=s(()=>parseInt(e.lines,10)),f=s(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(l.value===1?" ellipsis":"")),V=s(()=>e.lines!==void 0&&l.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":l.value}:null);return()=>h("div",{style:V.value,class:f.value},Ze(c.default))}}),Kl=ge({name:"QMenu",inheritAttrs:!1,props:{...rl,...sl,...De,...cl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:gt},self:{type:String,validator:gt},offset:{type:Array,validator:dl},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...fl,"click","escapeKey"],setup(e,{slots:c,emit:l,attrs:f}){let V=null,u,k,w;const m=Ae(),{proxy:O}=m,{$q:d}=O,b=E(null),y=E(!1),B=s(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),A=pe(e,d),{registerTick:L,removeTick:v}=vl(),{registerTimeout:D}=ml(),{transitionProps:Q,transitionStyle:$}=gl(e),{localScrollTarget:T,changeScrollEvent:ae,unconfigureScrollTarget:F}=Sl(e,x),{anchorEl:p,canShow:X}=hl({showing:y}),{hide:G}=bl({showing:y,canShow:X,handleShow:ce,handleHide:n,hideOnRouteChange:B,processOnMount:!0}),{showPortal:W,hidePortal:ue,renderPortal:g}=yl(m,b,R,"menu"),H={anchorEl:p,innerRef:b,onClickOutside(a){if(e.persistent!==!0&&y.value===!0)return G(a),(a.type==="touchstart"||a.target.classList.contains("q-dialog__backdrop"))&&ne(a),!0}},J=s(()=>bt(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),oe=s(()=>e.cover===!0?J.value:bt(e.self||"top start",d.lang.rtl)),U=s(()=>(e.square===!0?" q-menu--square":"")+(A.value===!0?" q-menu--dark q-dark":"")),Be=s(()=>e.autoClose===!0?{onClick:I}:{}),ie=s(()=>y.value===!0&&e.persistent!==!0);se(ie,a=>{a===!0?(ql(q),Al(H)):(ht(q),St(H))});function Z(){kl(()=>{let a=b.value;a&&a.contains(document.activeElement)!==!0&&(a=a.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||a.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||a.querySelector("[autofocus], [data-autofocus]")||a,a.focus({preventScroll:!0}))})}function ce(a){if(V=e.noRefocus===!1?document.activeElement:null,wl(M),W(),x(),u=void 0,a!==void 0&&(e.touchPosition||e.contextMenu)){const N=tl(a);if(N.left!==void 0){const{top:ee,left:Se}=p.value.getBoundingClientRect();u={left:N.left-Se,top:N.top-ee}}}k===void 0&&(k=se(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,C)),e.noFocus!==!0&&document.activeElement.blur(),L(()=>{C(),e.noFocus!==!0&&Z()}),D(()=>{d.platform.is.ios===!0&&(w=e.autoClose,b.value.click()),C(),W(!0),l("show",a)},e.transitionDuration)}function n(a){v(),ue(),i(!0),V!==null&&(a===void 0||a.qClickOutside!==!0)&&(((a&&a.type.indexOf("key")===0?V.closest('[tabindex]:not([tabindex^="-"])'):void 0)||V).focus(),V=null),D(()=>{ue(!0),l("hide",a)},e.transitionDuration)}function i(a){u=void 0,k!==void 0&&(k(),k=void 0),(a===!0||y.value===!0)&&(Cl(M),F(),St(H),ht(q)),a!==!0&&(V=null)}function x(){(p.value!==null||e.scrollTarget!==void 0)&&(T.value=Vl(p.value,e.scrollTarget),ae(T.value,C))}function I(a){w!==!0?(Bl(O,a),l("click",a)):w=!1}function M(a){ie.value===!0&&e.noFocus!==!0&&nl(b.value,a.target)!==!0&&Z()}function q(a){l("escapeKey"),G(a)}function C(){xl({targetEl:b.value,offset:e.offset,anchorEl:p.value,anchorOrigin:J.value,selfOrigin:oe.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function R(){return h(ll,Q.value,()=>y.value===!0?h("div",{role:"menu",...f,ref:b,tabindex:-1,class:["q-menu q-position-engine scroll"+U.value,f.class],style:[f.style,$.value],...Be.value},Ze(c.default)):null)}return Je(i),Object.assign(O,{focus:Z,updatePosition:C}),g}});const Vt=e=>["add","add-unique","toggle"].includes(e),jl=".*+?^${}()|[]\\",Ql=Object.keys(et);var tn=ge({name:"QSelect",inheritAttrs:!1,props:{...Ll,...Ot,...et,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Vt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...qt,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:c,emit:l}){const{proxy:f}=Ae(),{$q:V}=f,u=E(!1),k=E(!1),w=E(-1),m=E(""),O=E(!1),d=E(!1);let b=null,y=null,B,A,L,v=null,D,Q,$,T;const ae=E(null),F=E(null),p=E(null),X=E(null),G=E(null),W=Ol(e),ue=Tl(ct),g=s(()=>Array.isArray(e.options)?e.options.length:0),H=s(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:J,virtualScrollSliceSizeComputed:oe,localResetVirtualScroll:U,padVirtualScroll:Be,onVirtualScrollEvt:ie,scrollTo:Z,setVirtualScrollSize:ce}=$l({virtualScrollLength:g,getVirtualScrollTarget:Mt,getVirtualScrollEl:rt,virtualScrollItemSizeComputed:H}),n=Bt(),i=s(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,r=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const o=e.mapOptions===!0&&B!==void 0?B:[],S=r.map(z=>Ft(z,o));return e.modelValue===null&&t===!0?S.filter(z=>z!==null):S}return r}),x=s(()=>{const t={};return Ql.forEach(r=>{const o=e[r];o!==void 0&&(t[r]=o)}),t}),I=s(()=>e.optionsDark===null?n.isDark.value:e.optionsDark),M=s(()=>wt(i.value)),q=s(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||i.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),C=s(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),R=s(()=>g.value===0),a=s(()=>i.value.map(t=>j.value(t)).join(", ")),N=s(()=>e.displayValue!==void 0?e.displayValue:a.value),ee=s(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),Se=s(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||i.value.some(ee.value))),te=s(()=>n.focused.value===!0?e.tabindex:-1),Fe=s(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":u.value===!0?"true":"false","aria-controls":`${n.targetUid.value}_lb`};return w.value>=0&&(t["aria-activedescendant"]=`${n.targetUid.value}_${w.value}`),t}),de=s(()=>({id:`${n.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),fe=s(()=>i.value.map((t,r)=>({index:r,opt:t,html:ee.value(t),selected:!0,removeAtIndex:Tt,toggleOption:ve,tabindex:te.value}))),Me=s(()=>{if(g.value===0)return[];const{from:t,to:r}=J.value;return e.options.slice(t,r).map((o,S)=>{const z=he.value(o)===!0,_=je(o)===!0,K=t+S,P={clickable:!0,active:_,activeClass:Ie.value,manualFocus:!0,focused:!1,disable:z,tabindex:-1,dense:e.optionsDense,dark:I.value,role:"option","aria-selected":_===!0?"true":"false",id:`${n.targetUid.value}_${K}`,onClick:()=>{ve(o)}};return z!==!0&&(w.value===K&&(P.focused=!0),V.platform.is.desktop===!0&&(P.onMousemove=()=>{u.value===!0&&be(K)})),{index:K,opt:o,html:ee.value(o),label:j.value(o),selected:P.active,focused:P.focused,toggleOption:ve,setOptionIndex:be,itemProps:P}})}),Oe=s(()=>e.dropdownIcon!==void 0?e.dropdownIcon:V.iconSet.arrow.dropdown),He=s(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Ie=s(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),le=s(()=>Ke(e.optionValue,"value")),j=s(()=>Ke(e.optionLabel,"label")),he=s(()=>Ke(e.optionDisable,"disable")),Ee=s(()=>i.value.map(t=>le.value(t))),zt=s(()=>{const t={onInput:ct,onChange:ue,onKeydown:it,onKeyup:at,onKeypress:ot,onFocus:nt,onClick(r){A===!0&&xe(r)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=ue,t});se(i,t=>{B=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&n.innerLoading.value!==!0&&(k.value!==!0&&u.value!==!0||M.value!==!0)&&(L!==!0&&Ve(),(k.value===!0||u.value===!0)&&ye(""))},{immediate:!0}),se(()=>e.fillInput,Ve),se(u,Qe),se(g,Qt);function tt(t){return e.emitValue===!0?le.value(t):t}function Ne(t){if(t!==-1&&t<i.value.length)if(e.multiple===!0){const r=e.modelValue.slice();l("remove",{index:t,value:r.splice(t,1)[0]}),l("update:modelValue",r)}else l("update:modelValue",null)}function Tt(t){Ne(t),n.focus()}function lt(t,r){const o=tt(t);if(e.multiple!==!0){e.fillInput===!0&&_e(j.value(t),!0,!0),l("update:modelValue",o);return}if(i.value.length===0){l("add",{index:0,value:o}),l("update:modelValue",e.multiple===!0?[o]:o);return}if(r===!0&&je(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const S=e.modelValue.slice();l("add",{index:S.length,value:o}),S.push(o),l("update:modelValue",S)}function ve(t,r){if(n.editable.value!==!0||t===void 0||he.value(t)===!0)return;const o=le.value(t);if(e.multiple!==!0){r!==!0&&(_e(e.fillInput===!0?j.value(t):"",!0,!0),me()),F.value!==null&&F.value.focus(),(i.value.length===0||ze(le.value(i.value[0]),o)!==!0)&&l("update:modelValue",e.emitValue===!0?o:t);return}if((A!==!0||O.value===!0)&&n.focus(),nt(),i.value.length===0){const _=e.emitValue===!0?o:t;l("add",{index:0,value:_}),l("update:modelValue",e.multiple===!0?[_]:_);return}const S=e.modelValue.slice(),z=Ee.value.findIndex(_=>ze(_,o));if(z!==-1)l("remove",{index:z,value:S.splice(z,1)[0]});else{if(e.maxValues!==void 0&&S.length>=e.maxValues)return;const _=e.emitValue===!0?o:t;l("add",{index:S.length,value:_}),S.push(_)}l("update:modelValue",S)}function be(t){if(V.platform.is.desktop!==!0)return;const r=t!==-1&&t<g.value?t:-1;w.value!==r&&(w.value=r)}function Re(t=1,r){if(u.value===!0){let o=w.value;do o=yt(o+t,-1,g.value-1);while(o!==-1&&o!==w.value&&he.value(e.options[o])===!0);w.value!==o&&(be(o),Z(o),r!==!0&&e.useInput===!0&&e.fillInput===!0&&Pe(o>=0?j.value(e.options[o]):D,!0))}}function Ft(t,r){const o=S=>ze(le.value(S),t);return e.options.find(o)||r.find(o)||t}function Ke(t,r){const o=t!==void 0?t:r;return typeof o=="function"?o:S=>S!==null&&typeof S=="object"&&o in S?S[o]:S}function je(t){const r=le.value(t);return Ee.value.find(o=>ze(o,r))!==void 0}function nt(t){e.useInput===!0&&F.value!==null&&(t===void 0||F.value===t.target&&t.target.value===a.value)&&F.value.select()}function ut(t){ol(t,27)===!0&&u.value===!0&&(xe(t),me(),Ve()),l("keyup",t)}function at(t){const{value:r}=t.target;if(t.keyCode!==void 0){ut(t);return}if(t.target.value="",b!==null&&(clearTimeout(b),b=null),y!==null&&(clearTimeout(y),y=null),Ve(),typeof r=="string"&&r.length!==0){const o=r.toLocaleLowerCase(),S=_=>{const K=e.options.find(P=>_.value(P).toLocaleLowerCase()===o);return K===void 0?!1:(i.value.indexOf(K)===-1?ve(K):me(),!0)},z=_=>{S(le)!==!0&&(S(j)===!0||_===!0||ye(r,!0,()=>z(!0)))};z()}else n.clearValue(t)}function ot(t){l("keypress",t)}function it(t){if(l("keydown",t),il(t)===!0)return;const r=m.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),o=t.shiftKey!==!0&&e.multiple!==!0&&(w.value!==-1||r===!0);if(t.keyCode===27){Ue(t);return}if(t.keyCode===9&&o===!1){we();return}if(t.target===void 0||t.target.id!==n.targetUid.value||n.editable.value!==!0)return;if(t.keyCode===40&&n.innerLoading.value!==!0&&u.value===!1){ne(t),Ce();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&m.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ne(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&l("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof m.value!="string"||m.value.length===0)&&(ne(t),w.value=-1,Re(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&oe.value!==void 0&&(ne(t),w.value=Math.max(-1,Math.min(g.value,w.value+(t.keyCode===33?-1:1)*oe.value.view)),Re(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(ne(t),Re(t.keyCode===38?-1:1,e.multiple));const S=g.value;if(($===void 0||T<Date.now())&&($=""),S>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||$.length!==0)){u.value!==!0&&Ce(t);const z=t.key.toLocaleLowerCase(),_=$.length===1&&$[0]===z;T=Date.now()+1500,_===!1&&(ne(t),$+=z);const K=new RegExp("^"+$.split("").map(We=>jl.indexOf(We)!==-1?"\\"+We:We).join(".*"),"i");let P=w.value;if(_===!0||P<0||K.test(j.value(e.options[P]))!==!0)do P=yt(P+1,-1,S-1);while(P!==w.value&&(he.value(e.options[P])===!0||K.test(j.value(e.options[P]))!==!0));w.value!==P&&re(()=>{be(P),Z(P),P>=0&&e.useInput===!0&&e.fillInput===!0&&Pe(j.value(e.options[P]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||$!=="")&&(t.keyCode!==9||o===!1))){if(t.keyCode!==9&&ne(t),w.value!==-1&&w.value<S){ve(e.options[w.value]);return}if(r===!0){const z=(_,K)=>{if(K){if(Vt(K)!==!0)return}else K=e.newValueMode;if(_e("",e.multiple!==!0,!0),_==null)return;(K==="toggle"?ve:lt)(_,K==="add-unique"),e.multiple!==!0&&(F.value!==null&&F.value.focus(),me())};if(e.onNewValue!==void 0?l("newValue",m.value,z):z(m.value),e.multiple!==!0)return}u.value===!0?we():n.innerLoading.value!==!0&&Ce()}}function rt(){return A===!0?G.value:p.value!==null&&p.value.contentEl!==null?p.value.contentEl:void 0}function Mt(){return rt()}function Et(){return e.hideSelected===!0?[]:c["selected-item"]!==void 0?fe.value.map(t=>c["selected-item"](t)).slice():c.selected!==void 0?[].concat(c.selected()):e.useChips===!0?fe.value.map((t,r)=>h(Hl,{key:"option-"+r,removable:n.editable.value===!0&&he.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:te.value,onRemove(){t.removeAtIndex(r)}},()=>h("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:j.value(t.opt)}))):[h("span",{[Se.value===!0?"innerHTML":"textContent"]:N.value})]}function st(){if(R.value===!0)return c["no-option"]!==void 0?c["no-option"]({inputValue:m.value}):void 0;const t=c.option!==void 0?c.option:o=>h(zl,{key:o.index,...o.itemProps},()=>h(_l,()=>h(Nl,()=>h("span",{[o.html===!0?"innerHTML":"textContent"]:o.label}))));let r=Be("div",Me.value.map(t));return c["before-options"]!==void 0&&(r=c["before-options"]().concat(r)),Ge(c["after-options"],r)}function Rt(t,r){const o=r===!0?{...Fe.value,...n.splitAttrs.attributes.value}:void 0,S={ref:r===!0?F:void 0,key:"i_t",class:q.value,style:e.inputStyle,value:m.value!==void 0?m.value:"",type:"search",...o,id:r===!0?n.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...zt.value};return t!==!0&&A===!0&&(Array.isArray(S.class)===!0?S.class=[...S.class,"no-pointer-events"]:S.class+=" no-pointer-events"),h("input",S)}function ct(t){b!==null&&(clearTimeout(b),b=null),y!==null&&(clearTimeout(y),y=null),!(t&&t.target&&t.target.qComposing===!0)&&(Pe(t.target.value||""),L=!0,D=m.value,n.focused.value!==!0&&(A!==!0||O.value===!0)&&n.focus(),e.onFilter!==void 0&&(b=setTimeout(()=>{b=null,ye(m.value)},e.inputDebounce)))}function Pe(t,r){m.value!==t&&(m.value=t,r===!0||e.inputDebounce===0||e.inputDebounce==="0"?l("inputValue",t):y=setTimeout(()=>{y=null,l("inputValue",t)},e.inputDebounce))}function _e(t,r,o){L=o!==!0,e.useInput===!0&&(Pe(t,!0),(r===!0||o!==!0)&&(D=t),r!==!0&&ye(t))}function ye(t,r,o){if(e.onFilter===void 0||r!==!0&&n.focused.value!==!0)return;n.innerLoading.value===!0?l("filterAbort"):(n.innerLoading.value=!0,d.value=!0),t!==""&&e.multiple!==!0&&i.value.length!==0&&L!==!0&&t===j.value(i.value[0])&&(t="");const S=setTimeout(()=>{u.value===!0&&(u.value=!1)},10);v!==null&&clearTimeout(v),v=S,l("filter",t,(z,_)=>{(r===!0||n.focused.value===!0)&&v===S&&(clearTimeout(v),typeof z=="function"&&z(),d.value=!1,re(()=>{n.innerLoading.value=!1,n.editable.value===!0&&(r===!0?u.value===!0&&me():u.value===!0?Qe(!0):u.value=!0),typeof _=="function"&&re(()=>{_(f)}),typeof o=="function"&&re(()=>{o(f)})}))},()=>{n.focused.value===!0&&v===S&&(clearTimeout(v),n.innerLoading.value=!1,d.value=!1),u.value===!0&&(u.value=!1)})}function Pt(){return h(Kl,{ref:p,class:C.value,style:e.popupContentStyle,modelValue:u.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&R.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:I.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:He.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...de.value,onScrollPassive:ie,onBeforeShow:ft,onBeforeHide:Lt,onShow:$t},st)}function Lt(t){vt(t),we()}function $t(){ce()}function Dt(t){xe(t),F.value!==null&&F.value.focus(),O.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function pt(t){xe(t),re(()=>{O.value=!1})}function Ht(){const t=[h(Dl,{class:`col-auto ${n.fieldClass.value}`,...x.value,for:n.targetUid.value,dark:I.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:m.value.length!==0,...n.splitAttrs.listeners.value,onFocus:Dt,onBlur:pt},{...c,rawControl:()=>n.getControl(!0),before:void 0,after:void 0})];return u.value===!0&&t.push(h("div",{ref:G,class:C.value+" scroll",style:e.popupContentStyle,...de.value,onClick:Ue,onScrollPassive:ie},st())),h(Il,{ref:X,modelValue:k.value,position:e.useInput===!0?"top":void 0,transitionShow:Q,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:ft,onBeforeHide:Nt,onHide:Kt,onShow:jt},()=>h("div",{class:"q-select__dialog"+(I.value===!0?" q-select__dialog--dark q-dark":"")+(O.value===!0?" q-select__dialog--focused":"")},t))}function Nt(t){vt(t),X.value!==null&&X.value.__updateRefocusTarget(n.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),n.focused.value=!1}function Kt(t){me(),n.focused.value===!1&&l("blur",t),Ve()}function jt(){const t=document.activeElement;(t===null||t.id!==n.targetUid.value)&&F.value!==null&&F.value!==t&&F.value.focus(),ce()}function we(){k.value!==!0&&(w.value=-1,u.value===!0&&(u.value=!1),n.focused.value===!1&&(v!==null&&(clearTimeout(v),v=null),n.innerLoading.value===!0&&(l("filterAbort"),n.innerLoading.value=!1,d.value=!1)))}function Ce(t){n.editable.value===!0&&(A===!0?(n.onControlFocusin(t),k.value=!0,re(()=>{n.focus()})):n.focus(),e.onFilter!==void 0?ye(m.value):(R.value!==!0||c["no-option"]!==void 0)&&(u.value=!0))}function me(){k.value=!1,we()}function Ve(){e.useInput===!0&&_e(e.multiple!==!0&&e.fillInput===!0&&i.value.length!==0&&j.value(i.value[0])||"",!0,!0)}function Qe(t){let r=-1;if(t===!0){if(i.value.length!==0){const o=le.value(i.value[0]);r=e.options.findIndex(S=>ze(le.value(S),o))}U(r)}be(r)}function Qt(t,r){u.value===!0&&n.innerLoading.value===!1&&(U(-1,!0),re(()=>{u.value===!0&&n.innerLoading.value===!1&&(t>r?U():Qe(!0))}))}function dt(){k.value===!1&&p.value!==null&&p.value.updatePosition()}function ft(t){t!==void 0&&xe(t),l("popupShow",t),n.hasPopupOpen=!0,n.onControlFocusin(t)}function vt(t){t!==void 0&&xe(t),l("popupHide",t),n.hasPopupOpen=!1,n.onControlFocusout(t)}function mt(){A=V.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?c["no-option"]!==void 0||e.onFilter!==void 0||R.value===!1:!0),Q=V.platform.is.ios===!0&&A===!0&&e.useInput===!0?"fade":e.transitionShow}return ul(mt),al(dt),mt(),Je(()=>{b!==null&&clearTimeout(b),y!==null&&clearTimeout(y)}),Object.assign(f,{showPopup:Ce,hidePopup:me,removeAtIndex:Ne,add:lt,toggleOption:ve,getOptionIndex:()=>w.value,setOptionIndex:be,moveOptionSelection:Re,filter:ye,updateMenuPosition:dt,updateInputValue:_e,isOptionSelected:je,getEmittingOptionValue:tt,isOptionDisabled:(...t)=>he.value.apply(null,t)===!0,getOptionValue:(...t)=>le.value.apply(null,t),getOptionLabel:(...t)=>j.value.apply(null,t)}),Object.assign(n,{innerValue:i,fieldClass:s(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:ae,targetRef:F,hasValue:M,showPopup:Ce,floatingLabel:s(()=>e.hideSelected!==!0&&M.value===!0||typeof m.value=="number"||m.value.length!==0||wt(e.displayValue)),getControlChild:()=>{if(n.editable.value!==!1&&(k.value===!0||R.value!==!0||c["no-option"]!==void 0))return A===!0?Ht():Pt();n.hasPopupOpen===!0&&(n.hasPopupOpen=!1)},controlEvents:{onFocusin(t){n.onControlFocusin(t)},onFocusout(t){n.onControlFocusout(t,()=>{Ve(),we()})},onClick(t){if(Ue(t),A!==!0&&u.value===!0){we(),F.value!==null&&F.value.focus();return}Ce(t)}},getControl:t=>{const r=Et(),o=t===!0||k.value!==!0||A!==!0;if(e.useInput===!0)r.push(Rt(t,o));else if(n.editable.value===!0){const z=o===!0?Fe.value:void 0;r.push(h("input",{ref:o===!0?F:void 0,key:"d_t",class:"q-select__focus-target",id:o===!0?n.targetUid.value:void 0,value:N.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...z,onKeydown:it,onKeyup:ut,onKeypress:ot})),o===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&r.push(h("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:at}))}if(W.value!==void 0&&e.disable!==!0&&Ee.value.length!==0){const z=Ee.value.map(_=>h("option",{value:_,selected:!0}));r.push(h("select",{class:"hidden",name:W.value,multiple:e.multiple},z))}const S=e.useInput===!0||o!==!0?void 0:n.splitAttrs.attributes.value;return h("div",{class:"q-field__native row items-center",...S,...n.splitAttrs.listeners.value},r)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[h(Le,{class:"q-select__dropdown-icon"+(u.value===!0?" rotate-180":""),name:Oe.value})]:null}),At(n)}});function Wl(e,c){const l=E(null),f=s(()=>e.disable===!0?null:h("span",{ref:l,class:"no-outline",tabindex:-1}));function V(u){const k=c.value;u!==void 0&&u.type.indexOf("key")===0?k!==null&&document.activeElement!==k&&k.contains(document.activeElement)===!0&&k.focus():l.value!==null&&(u===void 0||k!==null&&k.contains(u.target)===!0)&&l.value.focus()}return{refocusTargetEl:f,refocusTarget:V}}var Ul={xs:30,sm:35,md:40,lg:50,xl:60};const ln={...De,...xt,...Ot,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},nn=["update:modelValue"];function un(e,c){const{props:l,slots:f,emit:V,proxy:u}=Ae(),{$q:k}=u,w=pe(l,k),m=E(null),{refocusTargetEl:O,refocusTarget:d}=Wl(l,m),b=kt(l,Ul),y=s(()=>l.val!==void 0&&Array.isArray(l.modelValue)),B=s(()=>{const g=ke(l.val);return y.value===!0?l.modelValue.findIndex(H=>ke(H)===g):-1}),A=s(()=>y.value===!0?B.value!==-1:ke(l.modelValue)===ke(l.trueValue)),L=s(()=>y.value===!0?B.value===-1:ke(l.modelValue)===ke(l.falseValue)),v=s(()=>A.value===!1&&L.value===!1),D=s(()=>l.disable===!0?-1:l.tabindex||0),Q=s(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(l.disable===!0?" disabled":"")+(w.value===!0?` q-${e}--dark`:"")+(l.dense===!0?` q-${e}--dense`:"")+(l.leftLabel===!0?" reverse":"")),$=s(()=>{const g=A.value===!0?"truthy":L.value===!0?"falsy":"indet",H=l.color!==void 0&&(l.keepColor===!0||(e==="toggle"?A.value===!0:L.value!==!0))?` text-${l.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${g}${H}`}),T=s(()=>{const g={type:"checkbox"};return l.name!==void 0&&Object.assign(g,{".checked":A.value,"^checked":A.value===!0?"checked":void 0,name:l.name,value:y.value===!0?l.val:l.trueValue}),g}),ae=Fl(T),F=s(()=>{const g={tabindex:D.value,role:e==="toggle"?"switch":"checkbox","aria-label":l.label,"aria-checked":v.value===!0?"mixed":A.value===!0?"true":"false"};return l.disable===!0&&(g["aria-disabled"]="true"),g});function p(g){g!==void 0&&(ne(g),d(g)),l.disable!==!0&&V("update:modelValue",X(),g)}function X(){if(y.value===!0){if(A.value===!0){const g=l.modelValue.slice();return g.splice(B.value,1),g}return l.modelValue.concat([l.val])}if(A.value===!0){if(l.toggleOrder!=="ft"||l.toggleIndeterminate===!1)return l.falseValue}else if(L.value===!0){if(l.toggleOrder==="ft"||l.toggleIndeterminate===!1)return l.trueValue}else return l.toggleOrder!=="ft"?l.trueValue:l.falseValue;return l.indeterminateValue}function G(g){(g.keyCode===13||g.keyCode===32)&&ne(g)}function W(g){(g.keyCode===13||g.keyCode===32)&&p(g)}const ue=c(A,v);return Object.assign(u,{toggle:p}),()=>{const g=ue();l.disable!==!0&&ae(g,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const H=[h("div",{class:$.value,style:b.value,"aria-hidden":"true"},g)];O.value!==null&&H.push(O.value);const J=l.label!==void 0?Ge(f.default,[l.label]):Ze(f.default);return J!==void 0&&H.push(h("div",{class:`q-${e}__label q-anchor--skip`},J)),h("div",{ref:m,class:Q.value,...F.value,onClick:p,onKeydown:G,onKeyup:W},H)}}export{tn as Q,$l as a,ln as b,nn as c,un as d,en as e,Zl as f,Jl as g,Ll as u};
